# Terminal Count Down

#### Video Demo: https://youtu.be/RRJWFTlhmCo

#### Description:

For the final project, I decdied to create a command line program using the C programming language. The command line program is called Terminal Countdown, which is a program that allows user to set a countdown timer inside the terminal. In the following paragraphs, I am going to outline my motivation to develop this program, the design chocies as well as what each file in the project does.

To begin with, I found myself sitting in front of the computer for a long time as I have been studying and programming a lot. However, according to this [Mayo Clinic article](https://www.mayoclinic.org/healthy-lifestyle/adult-health/expert-answers/sitting/faq-20058005), research has linked sitting hours to increased blood pressure, high blood sugar, excess body fat around the waist and unhealthy cholesterol levels. As a result, I realised that it is important take regular breaks from sitting, and for a dedicated programmar like myself, to introduce the breaks with minimal effort is through a command line program as programmers tend to spend a lot of time in the terminal and feel comfortable using it. That is why I decided to create a terminal countdown timer in the first place.

Regarding the design choices, I chose to implement this program in C because I wanted to improve my C programming skills and have more practice using C. When I started working on the project, I can easily come up with the countdown logic but the display of the countdown was quite challenging. Fortunately, through doing some research online, I found a library called ncurses that can create a window in the terminal and allow me to print text in the window by specifiying which row and column to print. For the ASCII art display, I generated the characters using FIGlet which is a program for making ASCII art from text. After Ifound the style I like using Figlet, I have to write a helper function to print out the 2D shape of the numeric characters and the ":" using a custom data type of a 5 x 5 matrix. To center the countdown, I used the ioctl function to gain access to the underlying device parameters of the terminal program so that I can calcualte the starting position of the countdown by using the width of the terminal as well as the number of character to offset. While the program is running, the program will keep track of the terminal size and reprint the countdown at the center so that the countdown timer is responsive. Playing the sound at the end posed yet another challenge and I tackled that by using a third-party library called mpg123 and took inspiration from a [blog post](https://hzqtc.github.io/2012/05/play-mp3-with-libmpg123-and-libao.html) written by Johnny Huang to make playing the sound file at the end of the countdown possible. Through making all these decisions and overcoming the challenges by using online resources, I have now become more comfotable with using C and developed an appreciation for programmers who write command line and TUI programs as it requires a lot of hard work, patience as well as trial and error.

Overall, the project is made up of eight files in total. Starting with the README file, it serves as a description and a link to the demo. The main.c file contains the main logic for displaying the ASCII art digits for the countdown timer. In addition, the main.c file also contains a function that plays the sound from the sound.mp3 file once the countdown is over, and the sound.mp3 file is created by [Oleksandr Stepanov](https://pixabay.com/users/penguinmusic-24940186/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=186374) from [Pixabay](https://pixabay.com//?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=186374). On top of that, the project contains a utils.h file that stores all the utility functions for converting user input to seconds and the total seconds to the corresponding numbers for hour, minute, and second respectively. The test.c file contains the functions for testing the logic of the utility funcitons, and the test executable file simply runs the test cases and displays the results of the tests. The test file is based on the response made by the user dbush from this [StackOverflow post](https://stackoverflow.com/questions/2343420/how-to-write-unit-tests-in-plain-c) about how to write unit tests in plain C. Last but not least, I created a makefile for this project that specifies how to complie the main.c file into the executable tcd file for other users to run that on their machine.

To conclude, I am confident to say that this project has helped me become a better C programmer and provided me the opportunity to explore new things such as learning about the static type variable, developing terminal user interface using ncueses, using third-party library, writing tests, and creating my own makefile. In the future, I will continue to program in C and dive deeper into this programming language, and more importantly, I will definitely use the terminal countdown to remind me that I should take regular breaks from sitting. This was my CS50x final project.
